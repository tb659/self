(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["report"],{"053b":function(e,r,t){var s=t("1e2c"),a=t("d910").f,i=Function.prototype,o=i.toString,n=/^\s*function ([^ (]*)/,u="name";s&&!(u in i)&&a(i,u,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(e){return""}}})},"15ca":function(e,r,t){},"2eeb":function(e,r,t){"use strict";var s=t("1c8b"),a=t("5dfd").map,i=t("1ea7"),o=t("ff9c"),n=i("map"),u=o("map");s({target:"Array",proto:!0,forced:!n||!u},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"44fa":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"breadcrumb"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{staticClass:"breadcrumb_item",attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",{attrs:{to:{path:"/resource"}}},[e._v("资源管理")]),t("el-breadcrumb-item",[e._v(e._s("edit"===e.$route.params.type?"修改资源":"添加资源"))])],1)],1),t("el-card",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"资源名称",prop:"name"}},[t("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"资源编码",prop:"code"}},[t("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}})],1),t("el-form-item",{attrs:{label:"默认资源",prop:"defaultAssign"}},[t("el-radio-group",{model:{value:e.ruleForm.defaultAssign,callback:function(r){e.$set(e.ruleForm,"defaultAssign",r)},expression:"ruleForm.defaultAssign"}},[t("el-radio",{attrs:{label:"0"}},[e._v("否")]),t("el-radio",{attrs:{label:"1"}},[e._v("是")])],1)],1),t("el-form-item",{attrs:{label:"资源地址",prop:"href"}},[t("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.href,callback:function(r){e.$set(e.ruleForm,"href",r)},expression:"ruleForm.href"}})],1),t("el-form-item",{attrs:{label:"父级资源",prop:"parentName"}},[t("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择父级资源",clearable:""},on:{blur:e.mustSel,select:e.handleSelect},model:{value:e.ruleForm.parentName,callback:function(r){e.$set(e.ruleForm,"parentName",r)},expression:"ruleForm.parentName"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"memo"}},[t("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.memo,callback:function(r){e.$set(e.ruleForm,"memo",r)},expression:"ruleForm.memo"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.saveForm("ruleForm")}}},[e._v("保存")]),t("el-button",{attrs:{type:"primary"},on:{click:e.cancelForm}},[e._v("返回")])],1)],1)],1)],1)},a=[],i=(t("2eeb"),t("053b"),t("e18c"),t("1c2e"),{data:function(){return{ruleForm:{id:"",name:"",code:"",parentId:"",parentName:"",memo:"",href:"",type:"M",defaultAssign:"0"},restaurants:[],rules:{name:[{required:!0,message:"请输入资源名称",trigger:"blur"}],code:[{required:!0,message:"请输入资源编码",trigger:"blur"}],parentId:[{required:!0,message:"请输入父级资源",trigger:"change"}]}}},methods:{mustSel:function(){this.ruleForm.parentId||(this.ruleForm.parentName=null)},handleSelect:function(e){this.ruleForm.parentId=e.id,this.ruleForm.parentName=e.name},querySearch:function(e,r){var t=this,s={size:10,page:1,total:"",name:e,parentId:0,state:1};this.httpPost("/basic/resource/query",s).then((function(e){e.rows.unshift({id:"0",name:"顶级资源"}),e.rows.map((function(e){e.value=e.name})),t.restaurants=e.rows,r(t.restaurants)}))},saveForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;var t=Object.assign({},r.ruleForm);"add"==r.type?r.httpPost("/basic/resource/add",t).then((function(e){r.$message.success("设置成功"),r.$router.push({path:"/resource",query:{}})})).catch((function(){return r.$message.error(res.message),!1})):r.httpPost("/basic/resource/mod/"+t.id,t).then((function(e){r.$message.success("设置成功"),r.$router.push({path:"/resource",query:{}})})).catch((function(){return r.$message.error(res.message),!1}))}))},cancelForm:function(){this.$router.back()}},mounted:function(){"add"===this.$route.params.type?this.type="add":(this.ruleForm=this.$route.params.info,this.type="edit",this.ruleForm.defaultAssign=this.ruleForm.defaultAssign.toString())}}),o=i,n=(t("e231"),t("9ca4")),u=Object(n["a"])(o,s,a,!1,null,"577e1b96",null);r["default"]=u.exports},8148:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e._v(" 报表管理 ")])},a=[],i={},o=i,n=t("9ca4"),u=Object(n["a"])(o,s,a,!1,null,"a2c1ffb2",null);r["default"]=u.exports},aeba:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"breadcrumb"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{staticClass:"breadcrumb_item",attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",{attrs:{to:{path:"/company"}}},[e._v("公司管理")]),t("el-breadcrumb-item",[e._v(e._s("edit"===e.$route.params.type?"修改资源":"选择资源"))])],1)],1),t("el-card",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"资源列表",prop:"resourceList"}},[t("el-tree",{ref:"tree",attrs:{data:e.rightList,"show-checkbox":"","node-key":"id","default-checked-keys":e.checkList,props:e.defaultProps,"default-expand-all":"","check-on-click-node":""},on:{check:e.checkChange}})],1),t("el-form-item",["edit"===e.$route.params.type?t("el-button",{attrs:{type:"primary"},on:{click:e.editEnterprise}},[e._v("确定")]):t("el-button",{attrs:{type:"primary"},on:{click:e.addEnterprise}},[e._v("确定")]),"edit"===e.$route.params.type?t("el-button",{attrs:{type:"primary"},on:{click:e.returnEditEnterprise}},[e._v("返回")]):t("el-button",{attrs:{type:"primary"},on:{click:e.returnAddEnterprise}},[e._v("返回")])],1)],1)],1)],1)},a=[],i={data:function(){return{ruleForm:{id:"",name:"",code:"",creditCode:"",phone:"",address:"",fax:"",legalPerson:"",legalCertType:"",legalCertCode:"",legalGender:"",legalNation:"",resourceList:[]},rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],code:[{required:!0,message:"请输入内部企业编号",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"}]},defaultProps:{children:"childNode",label:"name"},rightList:[],checkList:[],checkListStr:""}},methods:{checkChange:function(e,r){this.checkList=r.checkedKeys,this.checkListStr=this.$roleJoin(r.checkedKeys)},addEnterprise:function(){this.ruleForm.resourceList=this.checkList,this.$router.push({path:"/editEnterprise",name:"EditEnterprise",params:{type:"add",info:this.ruleForm}})},returnAddEnterprise:function(){this.$router.push({path:"/editEnterprise",name:"EditEnterprise",params:{type:"add",info:this.ruleForm}})},editEnterprise:function(){var e=this;this.ruleForm.resourceList=this.checkList,this.httpPost("/basic/enterprise/mod/"+this.ruleForm.id,this.ruleForm).then((function(r){e.$message.success("设置成功"),e.$router.push({path:"/company",query:{}})}))},returnEditEnterprise:function(){this.$router.push({path:"/company",name:"Company",params:{}})}},mounted:function(){var e=this,r={state:1,size:999,page:1,total:""};this.httpPost("/basic/resource/query",r).then((function(r){for(var t=[],s=0;s<r.rows.length;s++)if(0==r.rows[s].parentId)r.rows[s].childNode=[],t.push(r.rows[s]);else for(var a=0;a<t.length;a++)if(t[a].id==r.rows[s].parentId){t[a].childNode.push(r.rows[s]);break}var i=Object.assign([],t);e.menuArr=Object.assign([],t),e.rightList=i})),this.ruleForm=this.$route.params.info,this.checkList=this.$route.params.info.resourceList,"add"===this.$route.params.type?this.type="add":(this.type="edit",this.httpPost("/basic/enterprise/query/resource/"+this.$route.params.info.id,"").then((function(r){e.checkList=r,e.ruleForm.resourceList=r})))}},o=i,n=(t("dbf7"),t("9ca4")),u=Object(n["a"])(o,s,a,!1,null,"332c3ef8",null);r["default"]=u.exports},d6b8:function(e,r,t){},dbf7:function(e,r,t){"use strict";var s=t("15ca"),a=t.n(s);a.a},e231:function(e,r,t){"use strict";var s=t("d6b8"),a=t.n(s);a.a}}]);
//# sourceMappingURL=report.fe20ea14.js.map